@using Microsoft.AspNetCore.Identity;
@using Forum.DataAccess.Helpers
@model Pagination<Forum.Models.Post>

@{
    ViewData["Title"] = "Home Page";
}

@foreach (var item in Model.Data)
{
    <div>
        <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-outline-primary">@item.Title</a>
    </div>
    <hr />
}


<nav aria-label="Page navigation example">
    <ul class="pagination">
        @if (Model.PageIndex - 1 > 0)
        {
            <li class="page-item">
                <a class="page-link" asp-controller="Home" asp-action="Index"
                   asp-route-pageIndex="@(Model.PageIndex-1)" onclick="generateNewUrl(event, 'page', @(Model.PageIndex-1));">
                    Previous
                </a>
            </li>
        }

        @foreach (var p in Model.Pages)
        {
            <li class="page-item">
                <a class="page-link @(p == Model.PageIndex ? "btn-primary" : "")"
                   asp-controller="Home" asp-action="Index" asp-route-pageIndex="@p"
                   onclick="generateNewUrl(event, 'page', @p);">
                    @p
                </a>
            </li>
        }

        @if (Model.PageIndex < Model.LastPage)
        {
            <li class="page-item">
                <a class="page-link"
                   asp-controller="Home" asp-action="Index" asp-route-pageIndex="@(Model.PageIndex+1)"
                   onclick="generateNewUrl(event, 'page', @(Model.PageIndex+1))">
                    Next
                </a>
            </li>
        }
    </ul>
</nav>
